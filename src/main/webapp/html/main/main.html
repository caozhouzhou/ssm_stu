﻿<!doctype html>
<html lang="en">

<head>
	<title>Home</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!-- VENDOR CSS -->
	<!-- Bootstrap -->
	<link rel="stylesheet" href="../../static/third_part/bootstrap-3.3.7-dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="../../static/third_part/font-awesome-4.6.3/css/font-awesome.min.css">
	<link rel="stylesheet" href="../../static/css/linearicons.css">
	<!-- MAIN CSS -->
	<link rel="stylesheet" href="../../static/css/main.css">
	<!-- USER CSS -->
	<link rel="stylesheet" href="../../static/third_part/bootstrap-table-1.11.0/dist/bootstrap-table.min.css">

</head>

<body>
<!-- WRAPPER -->
<div id="wrapper">
	<!-- NAVBAR -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="brand">
			<a href="index.html"><img src="../../static/images/logo-dark.png" alt="Klorofil Logo" class="img-responsive logo"></a>
		</div>
		<div class="container-fluid">
			<div class="navbar-btn">
				<button type="button" class="btn-toggle-fullwidth"><i class="lnr lnr-arrow-left-circle"></i></button>
			</div>
			<form class="navbar-form navbar-left">
				<div class="input-group">
					<input type="text" value="" class="form-control" placeholder="Search dashboard...">
					<span class="input-group-btn"><button type="button" class="btn btn-primary">Go</button></span>
				</div>
			</form>
			<div class="navbar-btn navbar-btn-right">
				<a class="btn btn-success update-pro" href="#downloads/klorofil-pro-bootstrap-admin-dashboard-template/?utm_source=klorofil&utm_medium=template&utm_campaign=KlorofilPro" title="Upgrade to Pro" target="_blank"><i class="fa fa-rocket"></i> <span>UPGRADE TO PRO</span></a>
			</div>
			<div id="navbar-menu">
				<ul class="nav navbar-nav navbar-right">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle icon-menu" data-toggle="dropdown">
							<i class="lnr lnr-alarm"></i>
							<span class="badge bg-danger">5</span>
						</a>
						<ul class="dropdown-menu notifications">
							<li><a href="#" class="notification-item"><span class="dot bg-warning"></span>System space is almost full</a></li>
							<li><a href="#" class="notification-item"><span class="dot bg-danger"></span>You have 9 unfinished tasks</a></li>
							<li><a href="#" class="notification-item"><span class="dot bg-success"></span>Monthly report is available</a></li>
							<li><a href="#" class="notification-item"><span class="dot bg-warning"></span>Weekly meeting in 1 hour</a></li>
							<li><a href="#" class="notification-item"><span class="dot bg-success"></span>Your request has been approved</a></li>
							<li><a href="#" class="more">See all notifications</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="lnr lnr-question-circle"></i> <span>Help</span> <i class="icon-submenu lnr lnr-chevron-down"></i></a>
						<ul class="dropdown-menu">
							<li><a href="#">Basic Use</a></li>
							<li><a href="#">Working With Data</a></li>
							<li><a href="#">Security</a></li>
							<li><a href="#">Troubleshooting</a></li>
						</ul>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown"><img src="../../static/images/user.png" class="img-circle" alt="Avatar"> <span>Samuel</span> <i class="icon-submenu lnr lnr-chevron-down"></i></a>
						<ul class="dropdown-menu">
							<li><a href="#"><i class="lnr lnr-user"></i> <span>My Profile</span></a></li>
							<li><a href="#"><i class="lnr lnr-envelope"></i> <span>Message</span></a></li>
							<li><a href="#"><i class="lnr lnr-cog"></i> <span>Settings</span></a></li>
							<li><a href="#"><i class="lnr lnr-exit"></i> <span>Logout</span></a></li>
						</ul>
					</li>
					<!-- <li>
                        <a class="update-pro" href="#downloads/klorofil-pro-bootstrap-admin-dashboard-template/?utm_source=klorofil&utm_medium=template&utm_campaign=KlorofilPro" title="Upgrade to Pro" target="_blank"><i class="fa fa-rocket"></i> <span>UPGRADE TO PRO</span></a>
                    </li> -->
				</ul>
			</div>
		</div>
	</nav>
	<!-- END NAVBAR -->
	<!-- LEFT SIDEBAR -->
	<div id="sidebar-nav" class="sidebar">
		<div class="sidebar-scroll">
			<nav>
				<ul class="nav">
					<li><a href="index.html" class="active"><i class="lnr lnr-home"></i> <span>Dashboard</span></a></li>
					<li><a href="elements.html" class=""><i class="lnr lnr-code"></i> <span>Elements</span></a></li>
					<li><a href="charts.html" class=""><i class="lnr lnr-chart-bars"></i> <span>Charts</span></a></li>
					<li><a href="panels.html" class=""><i class="lnr lnr-cog"></i> <span>Panels</span></a></li>
					<li><a href="notifications.html" class=""><i class="lnr lnr-alarm"></i> <span>Notifications</span></a></li>
					<li>
						<a href="#subPages" data-toggle="collapse" class="collapsed"><i class="lnr lnr-file-empty"></i> <span>Pages</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
						<div id="subPages" class="collapse ">
							<ul class="nav">
								<li><a href="page-profile.html" class="">Profile</a></li>
								<li><a href="page-login.html" class="">Login</a></li>
								<li><a href="page-lockscreen.html" class="">Lockscreen</a></li>
							</ul>
						</div>
					</li>
					<li><a href="tables.html" class=""><i class="lnr lnr-dice"></i> <span>Tables</span></a></li>
					<li><a href="typography.html" class=""><i class="lnr lnr-text-format"></i> <span>Typography</span></a></li>
					<li><a href="icons.html" class=""><i class="lnr lnr-linearicons"></i> <span>Icons</span></a></li>
				</ul>
			</nav>
		</div>
	</div>
	<!-- END LEFT SIDEBAR -->
	<!-- MAIN -->
	<div class="main">
		<!-- MAIN CONTENT -->
		<div id="app">
			<div class="header-bar">
				<p class="sub-header" id="pageTitle">用户管理</p>
			</div>
			<div>
				<!-- TABLE 部分，用于展示列表 -->
				<div :style="{'display': showCtrl.showTb}">
					<div id="toolbar">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" data-trigger="hover" title="添加" @click="loadUsers">
								<i class="fa fa-plus" aria-hidden="true"></i>
							</button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" data-trigger="hover" title="修改" @click="loadUsers">
								<i class="fa fa-pencil" aria-hidden="true"></i>
							</button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" data-trigger="hover" title="删除" @click="loadUsers">
								<i class="fa fa-trash" aria-hidden="true"></i>
							</button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" data-trigger="hover" title="刷新" @click="loadUsers()">
								<i class="fa fa-refresh" aria-hidden="true"></i>
							</button>
						</div>
					</div>
					<table id="userTable" data-toolbar="#toolbar" data-pagination="true" data-show-columns="true"
						   data-search="true"></table>
				</div>


			</div>
		</div>
		<!-- END MAIN CONTENT -->
	</div>
	<!-- END MAIN -->
	<div class="clearfix"></div>
	<footer>
		<div class="container-fluid">
			<p class="copyright">Copyright &copy; 2017.Company name All rights reserved.More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>

		</div>
	</footer>
</div>
<!-- END WRAPPER -->
<!-- Javascript -->
<script src="../../static/third_part/jquery/jquery-3.4.1.min.js"></script>
<script src="../../static/third_part/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>

<script src="../../static/js/klorofil-common.js"></script>
<!-- Javascript USER -->
<script src="../../static/third_part/bootstrap-popper-1.14.7/popper.min.js"></script>
<script src="../../static/third_part/bootstrap-table-1.11.0/dist/bootstrap-table.min.js"></script>
<script src="../../static/third_part/bootstrap-table-1.11.0/dist/locale/bootstrap-table-zh-CN.min.js"></script>
<script src="../../static/third_part/vue-2.6.10/vue.min.js"></script>
<script src="../../static/third_part/vue-resource-0.9.3/dist/vue-resource.min.js"></script>

<script type="text/javascript">
    var userTable = $('#userTable');
    var columns = [
        {
            field: 'selected',
            checkbox: true
        }, {
            field: 'id',
            title: 'ID',
            sortable: true
        }, {
            field: 'userName',
            title: '用户名',
            sortable: true
        }, {
            field: 'email',
            title: '电子邮箱',
            sortable: true
        }, {
            field: 'mobile',
            title: '手机号',
            sortable: true
        }
    ];

    var vm = new Vue({
        el: '#wrapper',
        mounted: function () {
            var self = this;
            $("[data-toggle='tooltip']").tooltip();
            $('#userTable').bootstrapTable({
                columns: columns,
                clickToSelect:true,
                height: 680
            });

            self.loadUsers();

        },
        data:{
            showCtrl:{
                showTb:'block',
                showEdit:''
            },
            user:{
                username:'',
                passwd:'',
                email:'',
                mobile:''
            }
        },
        methods: {
            //加载路由
            loadUsers: function () {
                Vue.http.get('../../jdwa/user/list').then(function (res) {
                    $('#userTable').bootstrapTable('load', res.json());
                }, function (res) {
                    alert("ERROR!")
                });
            }
        }
    });


</script>

</body>

</html>
